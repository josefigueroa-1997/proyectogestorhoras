2025-07-28 11:02:11.524 -04:00 [INF] User profile is available. Using 'C:\Users\USUARIO\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-28 11:02:11.957 -04:00 [WRN] The ASP.NET Core developer certificate is not trusted. For information about trusting the ASP.NET Core developer certificate, see https://aka.ms/aspnet/https-trust-dev-cert.
2025-07-28 11:02:12.037 -04:00 [INF] Now listening on: https://localhost:7297
2025-07-28 11:02:12.037 -04:00 [INF] Now listening on: http://localhost:5295
2025-07-28 11:02:12.064 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-28 11:02:12.065 -04:00 [INF] Hosting environment: Development
2025-07-28 11:02:12.065 -04:00 [INF] Content root path: C:\Users\USUARIO\Desktop\Nueva carpeta\proyectogestorhoras\Proyectogestionhoras\Proyectogestionhoras
2025-07-28 11:02:14.481 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:02:14.617 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:14.650 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:02:14.806 -04:00 [INF] Executing RedirectResult, redirecting to /Usuario/Login.
2025-07-28 11:02:14.809 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 156.8413ms
2025-07-28 11:02:14.809 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:14.812 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 302 0 null 334.5882ms
2025-07-28 11:02:14.817 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/Login - null null
2025-07-28 11:02:14.822 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:14.823 -04:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:02:14.831 -04:00 [INF] Executing ViewResult, running view Login.
2025-07-28 11:02:14.901 -04:00 [INF] Executed ViewResult - view Login executed in 72.9737ms.
2025-07-28 11:02:14.901 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras) in 78.0993ms
2025-07-28 11:02:14.901 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:14.902 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/Login - 200 null text/html; charset=utf-8 85.0416ms
2025-07-28 11:02:14.924 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/images/logo-unit.png - null null
2025-07-28 11:02:14.924 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:14.935 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 11.8176ms
2025-07-28 11:02:14.942 -04:00 [INF] Sending file. Request path: '/images/logo-unit.png'. Physical path: 'C:\Users\USUARIO\Desktop\Nueva carpeta\proyectogestorhoras\Proyectogestionhoras\Proyectogestionhoras\wwwroot\images\logo-unit.png'
2025-07-28 11:02:14.943 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/images/logo-unit.png - 200 9531 image/png 19.4221ms
2025-07-28 11:02:14.944 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:14.981 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.942ms
2025-07-28 11:02:15.134 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/unit-ico.png - null null
2025-07-28 11:02:15.136 -04:00 [INF] Sending file. Request path: '/unit-ico.png'. Physical path: 'C:\Users\USUARIO\Desktop\Nueva carpeta\proyectogestorhoras\Proyectogestionhoras\Proyectogestionhoras\wwwroot\unit-ico.png'
2025-07-28 11:02:15.137 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/unit-ico.png - 200 670 image/png 2.9305ms
2025-07-28 11:02:18.930 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7297/Usuario/Login - application/x-www-form-urlencoded 28
2025-07-28 11:02:18.936 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:18.942 -04:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:02:19.572 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:20.516 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ESTADO]
FROM [USUARIO] AS [u]
INNER JOIN [RECURSO] AS [r] ON [u].[ID_RECURSO] = [r].[ID]
WHERE [u].[ID] = @__id_0
2025-07-28 11:02:20.523 -04:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-28 11:02:20.523 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras) in 1581.1024ms
2025-07-28 11:02:20.524 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:20.525 -04:00 [INF] Session started; Key:08cb1d03-d10a-031a-6a28-2699e39b95b4, Id:67ba8056-61b2-f3d3-5779-6f7b38e2cfed
2025-07-28 11:02:20.529 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7297/Usuario/Login - 302 0 null 1599.8671ms
2025-07-28 11:02:20.531 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:02:20.534 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:20.535 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:02:20.545 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:20.622 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Socio')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:02:20.644 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Socio')
2025-07-28 11:02:20.685 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_SOCIOS]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:02:20.706 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Staff')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:02:20.711 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Staff')
2025-07-28 11:02:20.715 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_STAFF]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:02:20.720 -04:00 [INF] Executing ViewResult, running view Index.
2025-07-28 11:02:20.769 -04:00 [INF] Executed ViewResult - view Index executed in 49.4286ms.
2025-07-28 11:02:20.770 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 234.8977ms
2025-07-28 11:02:20.770 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:20.770 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 200 null text/html; charset=utf-8 239.2519ms
2025-07-28 11:02:20.784 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/css/layout.css?v=w2iC1i7VxRTW9PBBogziEPSboT7EGRb5PdyAgjPSZIw - null null
2025-07-28 11:02:20.784 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:20.785 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.2105ms
2025-07-28 11:02:20.789 -04:00 [INF] Sending file. Request path: '/css/layout.css'. Physical path: 'C:\Users\USUARIO\Desktop\Nueva carpeta\proyectogestorhoras\Proyectogestionhoras\Proyectogestionhoras\wwwroot\css\layout.css'
2025-07-28 11:02:20.790 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/css/layout.css?v=w2iC1i7VxRTW9PBBogziEPSboT7EGRb5PdyAgjPSZIw - 200 2278 text/css 6.0494ms
2025-07-28 11:02:20.811 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:20.820 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.326ms
2025-07-28 11:02:30.404 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - null null
2025-07-28 11:02:30.406 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:02:30.409 -04:00 [INF] Route matched with {action = "PagosDistribucionHH", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PagosDistribucionHH(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:02:30.451 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:30.507 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__estado_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID] AS [idproyecto], [p].[NOMBRE] AS [nombreproyecto], COALESCE([g].[ANIO], 0) AS [anio], COALESCE([g].[MES], 0) AS [mes], [g].[TIPORECURSO] AS [tiporecurso], COALESCE([h].[IDCUENTASOCIO], 0) AS [idcuentasocio], COALESCE([h].[IDCUENTASTAFF], 0) AS [idcuentastaff], [h].[CUENTASOCIO] AS [cuentasocio], [h].[CUENTASTAFF] AS [cuentastaff], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0)), 0.0) AS [totalhh], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0) * [g].[costounitariomes]), 0.0) AS [costorecursosocio], [h0].[COSTOSOCIO] AS [costohhsocio], [h0].[COSTOSTAFF] AS [costohhstaff], [g].[ID] AS [idgastohh], COALESCE([g].[REAJUSTE], 0.0) AS [reajuste], COALESCE([g].[MONTO], 0.0) AS [monto], [g].[OBSERVACION] AS [observacion], COALESCE([g].[FECHAPAGO], NULL) AS [fechapago], COALESCE([g].[ESTADO], 0) AS [estado], COALESCE([g].[costounitariomes], 0.0) AS [costounitariomes]
FROM [GASTOSHHHEJECUCION] AS [g]
INNER JOIN [PROYECTO] AS [p] ON [g].[IDPROYECTO] = [p].[ID]
INNER JOIN [HISTORIALCUENTASPROYECTO] AS [h] ON [p].[ID] = [h].[IDPROYECTO]
INNER JOIN [HISTORIAL_COSTOS_PROYECTOS] AS [h0] ON [p].[ID] = [h0].[IDPROYECTO]
WHERE ([p].[STATUS_PROYECTO] = 2) AND ([g].[ESTADO] = @__estado_0)
GROUP BY [p].[ID], [p].[NOMBRE], [g].[ID], [g].[ANIO], [g].[MES], [g].[TIPORECURSO], [h].[IDCUENTASOCIO], [h].[IDCUENTASTAFF], [h].[CUENTASOCIO], [h].[CUENTASTAFF], [h0].[COSTOSOCIO], [h0].[COSTOSTAFF], [g].[REAJUSTE], [g].[MONTO], [g].[OBSERVACION], [g].[FECHAPAGO], [g].[ESTADO], [g].[costounitariomes]
ORDER BY COALESCE([g].[ANIO], 0), COALESCE([g].[MES], 0)
2025-07-28 11:02:30.510 -04:00 [INF] Executing ViewResult, running view PagosDistribucionHH.
2025-07-28 11:02:30.519 -04:00 [INF] Executed ViewResult - view PagosDistribucionHH executed in 9.5819ms.
2025-07-28 11:02:30.527 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras) in 117.7227ms
2025-07-28 11:02:30.527 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:02:30.528 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - 200 null text/html; charset=utf-8 124.1182ms
2025-07-28 11:02:30.542 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:30.542 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:30.543 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.3238ms
2025-07-28 11:02:30.552 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.429ms
2025-07-28 11:02:39.857 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/Logout - null null
2025-07-28 11:02:39.859 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Logout (Proyectogestionhoras)'
2025-07-28 11:02:39.860 -04:00 [INF] Route matched with {action = "Logout", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:02:39.860 -04:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-28 11:02:39.860 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Logout (Proyectogestionhoras) in 0.5635ms
2025-07-28 11:02:39.860 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Logout (Proyectogestionhoras)'
2025-07-28 11:02:39.861 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/Logout - 302 0 null 4.6367ms
2025-07-28 11:02:39.864 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:02:39.865 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:39.865 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:02:39.867 -04:00 [INF] Executing RedirectResult, redirecting to /Usuario/Login.
2025-07-28 11:02:39.867 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 1.1723ms
2025-07-28 11:02:39.867 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:39.867 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 302 0 null 3.3829ms
2025-07-28 11:02:39.869 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/Login - null null
2025-07-28 11:02:39.871 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:39.871 -04:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:02:39.872 -04:00 [INF] Executing ViewResult, running view Login.
2025-07-28 11:02:39.872 -04:00 [INF] Executed ViewResult - view Login executed in 0.6347ms.
2025-07-28 11:02:39.872 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras) in 0.8879ms
2025-07-28 11:02:39.872 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:39.872 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/Login - 200 null text/html; charset=utf-8 2.9379ms
2025-07-28 11:02:39.890 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:39.891 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:39.892 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.2842ms
2025-07-28 11:02:39.903 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.29ms
2025-07-28 11:02:43.940 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7297/Usuario/Login - application/x-www-form-urlencoded 28
2025-07-28 11:02:43.942 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:43.942 -04:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:02:43.943 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:44.245 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[ESTADO]
FROM [USUARIO] AS [u]
INNER JOIN [RECURSO] AS [r] ON [u].[ID_RECURSO] = [r].[ID]
WHERE [u].[ID] = @__id_0
2025-07-28 11:02:44.245 -04:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-28 11:02:44.245 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras) in 303.3416ms
2025-07-28 11:02:44.245 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:02:44.245 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7297/Usuario/Login - 302 0 null 305.9994ms
2025-07-28 11:02:44.249 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:02:44.250 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:44.250 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:02:44.251 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:44.273 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Socio')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:02:44.275 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Socio')
2025-07-28 11:02:44.279 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_SOCIOS]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:02:44.281 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Staff')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:02:44.282 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Staff')
2025-07-28 11:02:44.285 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_STAFF]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:02:44.286 -04:00 [INF] Executing ViewResult, running view Index.
2025-07-28 11:02:44.289 -04:00 [INF] Executed ViewResult - view Index executed in 3.5501ms.
2025-07-28 11:02:44.289 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 38.6647ms
2025-07-28 11:02:44.289 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:44.289 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 200 null text/html; charset=utf-8 40.9144ms
2025-07-28 11:02:44.307 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:44.308 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:44.309 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 0.9213ms
2025-07-28 11:02:44.316 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.3984ms
2025-07-28 11:02:46.015 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Planilla/PlanillaRegistro - null null
2025-07-28 11:02:46.018 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.PlanillaController.PlanillaRegistro (Proyectogestionhoras)'
2025-07-28 11:02:46.020 -04:00 [INF] Route matched with {action = "PlanillaRegistro", controller = "Planilla"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlanillaRegistro() on controller Proyectogestionhoras.Controllers.PlanillaController (Proyectogestionhoras).
2025-07-28 11:02:46.024 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:46.106 -04:00 [WRN] The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-28 11:02:46.112 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[dia]
FROM [Diapago] AS [d]
2025-07-28 11:02:46.117 -04:00 [INF] Executing ViewResult, running view Planilla.
2025-07-28 11:02:46.147 -04:00 [INF] Executed ViewResult - view Planilla executed in 30.5606ms.
2025-07-28 11:02:46.147 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.PlanillaController.PlanillaRegistro (Proyectogestionhoras) in 126.517ms
2025-07-28 11:02:46.147 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.PlanillaController.PlanillaRegistro (Proyectogestionhoras)'
2025-07-28 11:02:46.150 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Planilla/PlanillaRegistro - 200 null text/html; charset=utf-8 134.892ms
2025-07-28 11:02:46.219 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:46.219 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:46.220 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.238ms
2025-07-28 11:02:46.229 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/RecuperarActividades?recurso=Socio - null null
2025-07-28 11:02:46.231 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras)'
2025-07-28 11:02:46.232 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 13.2047ms
2025-07-28 11:02:46.235 -04:00 [INF] Route matched with {action = "RecuperarActividades", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RecuperarActividades(System.String) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:02:46.237 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:46.257 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__recurso_0='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ID] AS [Id], [a].[NOMBRE] AS [Nombre], [a].[controlhh] AS [Controlhh]
FROM [ACTIVIDADES] AS [a]
WHERE [a].[TIPO_ACATIVIDAD] = @__recurso_0
ORDER BY CASE
    WHEN [a].[ID] = 17 THEN 0
    WHEN [a].[ID] = 14 THEN 1
    ELSE 2
END, [a].[NOMBRE]
2025-07-28 11:02:46.260 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType39`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:02:46.265 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras) in 29.4903ms
2025-07-28 11:02:46.265 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras)'
2025-07-28 11:02:46.265 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/RecuperarActividades?recurso=Socio - 200 null application/json; charset=utf-8 35.8511ms
2025-07-28 11:02:57.310 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:02:57.312 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:57.312 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:02:57.313 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:57.319 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Socio')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:02:57.320 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Socio')
2025-07-28 11:02:57.321 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_SOCIOS]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:02:57.322 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Staff')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:02:57.323 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Staff')
2025-07-28 11:02:57.324 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_STAFF]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:02:57.324 -04:00 [INF] Executing ViewResult, running view Index.
2025-07-28 11:02:57.328 -04:00 [INF] Executed ViewResult - view Index executed in 3.5441ms.
2025-07-28 11:02:57.328 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 15.2609ms
2025-07-28 11:02:57.328 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:02:57.328 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 200 null text/html; charset=utf-8 18.3073ms
2025-07-28 11:02:57.343 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:57.343 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:57.344 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.1831ms
2025-07-28 11:02:57.352 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.2249ms
2025-07-28 11:02:59.206 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - null null
2025-07-28 11:02:59.213 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:02:59.213 -04:00 [INF] Route matched with {action = "PagosDistribucionHH", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PagosDistribucionHH(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:02:59.215 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:02:59.227 -04:00 [INF] Executed DbCommand (10ms) [Parameters=[@__estado_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID] AS [idproyecto], [p].[NOMBRE] AS [nombreproyecto], COALESCE([g].[ANIO], 0) AS [anio], COALESCE([g].[MES], 0) AS [mes], [g].[TIPORECURSO] AS [tiporecurso], COALESCE([h].[IDCUENTASOCIO], 0) AS [idcuentasocio], COALESCE([h].[IDCUENTASTAFF], 0) AS [idcuentastaff], [h].[CUENTASOCIO] AS [cuentasocio], [h].[CUENTASTAFF] AS [cuentastaff], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0)), 0.0) AS [totalhh], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0) * [g].[costounitariomes]), 0.0) AS [costorecursosocio], [h0].[COSTOSOCIO] AS [costohhsocio], [h0].[COSTOSTAFF] AS [costohhstaff], [g].[ID] AS [idgastohh], COALESCE([g].[REAJUSTE], 0.0) AS [reajuste], COALESCE([g].[MONTO], 0.0) AS [monto], [g].[OBSERVACION] AS [observacion], COALESCE([g].[FECHAPAGO], NULL) AS [fechapago], COALESCE([g].[ESTADO], 0) AS [estado], COALESCE([g].[costounitariomes], 0.0) AS [costounitariomes]
FROM [GASTOSHHHEJECUCION] AS [g]
INNER JOIN [PROYECTO] AS [p] ON [g].[IDPROYECTO] = [p].[ID]
INNER JOIN [HISTORIALCUENTASPROYECTO] AS [h] ON [p].[ID] = [h].[IDPROYECTO]
INNER JOIN [HISTORIAL_COSTOS_PROYECTOS] AS [h0] ON [p].[ID] = [h0].[IDPROYECTO]
WHERE ([p].[STATUS_PROYECTO] = 2) AND ([g].[ESTADO] = @__estado_0)
GROUP BY [p].[ID], [p].[NOMBRE], [g].[ID], [g].[ANIO], [g].[MES], [g].[TIPORECURSO], [h].[IDCUENTASOCIO], [h].[IDCUENTASTAFF], [h].[CUENTASOCIO], [h].[CUENTASTAFF], [h0].[COSTOSOCIO], [h0].[COSTOSTAFF], [g].[REAJUSTE], [g].[MONTO], [g].[OBSERVACION], [g].[FECHAPAGO], [g].[ESTADO], [g].[costounitariomes]
ORDER BY COALESCE([g].[ANIO], 0), COALESCE([g].[MES], 0)
2025-07-28 11:02:59.227 -04:00 [INF] Executing ViewResult, running view PagosDistribucionHH.
2025-07-28 11:02:59.231 -04:00 [INF] Executed ViewResult - view PagosDistribucionHH executed in 4.2637ms.
2025-07-28 11:02:59.231 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras) in 17.9273ms
2025-07-28 11:02:59.231 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:02:59.231 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - 200 null text/html; charset=utf-8 25.145ms
2025-07-28 11:02:59.245 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:02:59.245 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:02:59.247 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.3117ms
2025-07-28 11:02:59.254 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.134ms
2025-07-28 11:03:04.155 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Planilla/PlanillaRegistro - null null
2025-07-28 11:03:04.158 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.PlanillaController.PlanillaRegistro (Proyectogestionhoras)'
2025-07-28 11:03:04.159 -04:00 [INF] Route matched with {action = "PlanillaRegistro", controller = "Planilla"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PlanillaRegistro() on controller Proyectogestionhoras.Controllers.PlanillaController (Proyectogestionhoras).
2025-07-28 11:03:04.159 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:04.166 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[dia]
FROM [Diapago] AS [d]
2025-07-28 11:03:04.166 -04:00 [INF] Executing ViewResult, running view Planilla.
2025-07-28 11:03:04.170 -04:00 [INF] Executed ViewResult - view Planilla executed in 4.0698ms.
2025-07-28 11:03:04.170 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.PlanillaController.PlanillaRegistro (Proyectogestionhoras) in 11.863ms
2025-07-28 11:03:04.170 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.PlanillaController.PlanillaRegistro (Proyectogestionhoras)'
2025-07-28 11:03:04.171 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Planilla/PlanillaRegistro - 200 null text/html; charset=utf-8 16.092ms
2025-07-28 11:03:04.185 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:04.185 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:04.186 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 0.9633ms
2025-07-28 11:03:04.194 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.0184ms
2025-07-28 11:03:04.247 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/RecuperarActividades?recurso=Socio - null null
2025-07-28 11:03:04.247 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras)'
2025-07-28 11:03:04.247 -04:00 [INF] Route matched with {action = "RecuperarActividades", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RecuperarActividades(System.String) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:03:04.248 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:04.251 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__recurso_0='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ID] AS [Id], [a].[NOMBRE] AS [Nombre], [a].[controlhh] AS [Controlhh]
FROM [ACTIVIDADES] AS [a]
WHERE [a].[TIPO_ACATIVIDAD] = @__recurso_0
ORDER BY CASE
    WHEN [a].[ID] = 17 THEN 0
    WHEN [a].[ID] = 14 THEN 1
    ELSE 2
END, [a].[NOMBRE]
2025-07-28 11:03:04.252 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType39`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:04.252 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras) in 4.5996ms
2025-07-28 11:03:04.252 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras)'
2025-07-28 11:03:04.252 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/RecuperarActividades?recurso=Socio - 200 null application/json; charset=utf-8 5.4977ms
2025-07-28 11:03:07.109 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/ObtenerMisproyectos?idusuario=88 - null null
2025-07-28 11:03:07.109 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.ObtenerMisproyectos (Proyectogestionhoras)'
2025-07-28 11:03:07.111 -04:00 [INF] Route matched with {action = "ObtenerMisproyectos", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerMisproyectos(Int32) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:03:07.112 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:07.117 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.DTO.UsuarioProyectoDTO, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:07.118 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.ObtenerMisproyectos (Proyectogestionhoras) in 6.5149ms
2025-07-28 11:03:07.118 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.ObtenerMisproyectos (Proyectogestionhoras)'
2025-07-28 11:03:07.118 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/ObtenerMisproyectos?idusuario=88 - 200 null application/json; charset=utf-8 9.5633ms
2025-07-28 11:03:08.529 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/Recuperarhhusuarios?idusuario=88&idproyecto=265 - null null
2025-07-28 11:03:08.529 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Recuperarhhusuarios (Proyectogestionhoras)'
2025-07-28 11:03:08.532 -04:00 [INF] Route matched with {action = "Recuperarhhusuarios", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Recuperarhhusuarios(Int32, Int32) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:03:08.534 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:08.542 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.DTO.HH_AsignaciÃ³nDTO, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:08.546 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Recuperarhhusuarios (Proyectogestionhoras) in 14.0005ms
2025-07-28 11:03:08.546 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Recuperarhhusuarios (Proyectogestionhoras)'
2025-07-28 11:03:08.546 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/Recuperarhhusuarios?idusuario=88&idproyecto=265 - 200 null application/json; charset=utf-8 17.7326ms
2025-07-28 11:03:16.665 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7297/Planilla/RegistrarHoras - application/x-www-form-urlencoded; charset=UTF-8 141
2025-07-28 11:03:16.665 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.PlanillaController.RegistrarHoras (Proyectogestionhoras)'
2025-07-28 11:03:16.668 -04:00 [INF] Route matched with {action = "RegistrarHoras", controller = "Planilla"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrarHoras(Int32, System.Nullable`1[System.Int32], System.String, System.DateTime, System.String, Int32, System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.PlanillaController (Proyectogestionhoras).
2025-07-28 11:03:16.677 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:16.689 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_idusuproy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[STATUS_PROYECTO]
FROM [USUARIO_PROYECTO] AS [u]
INNER JOIN [PROYECTO] AS [p] ON [u].[ID_PROYECTO] = [p].[ID]
WHERE [u].[ID] = @__8__locals1_idusuproy_0
2025-07-28 11:03:16.699 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_idusuproy_0='?' (DbType = Int32), @__8__locals1_Fecharegistro_Date_1='?' (DbType = Date), @__8__locals1_Idactividad_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [PLANILLA_USUSARIO_PROYECTO] AS [p]
        WHERE (([p].[ID_USU_PROY] = @__8__locals1_idusuproy_0) AND (CONVERT(date, [p].[FECHA_REGISTRO]) = @__8__locals1_Fecharegistro_Date_1)) AND ([p].[IDACTIVIDAD] = @__8__locals1_Idactividad_2)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-07-28 11:03:16.707 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_idusuario_0='?' (DbType = Int32), @__mesregistro_1='?' (DbType = Int32), @__anioregistro_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ID], [p].[ANIO], [p].[ID_USUARIO], [p].[MES]
FROM [PLANILLA] AS [p]
WHERE (([p].[ID_USUARIO] = @__8__locals1_idusuario_0) AND ([p].[MES] = @__mesregistro_1)) AND ([p].[ANIO] = @__anioregistro_2)
2025-07-28 11:03:16.752 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_idusuario_0='?' (DbType = Int32), @__inicioSemana_1='?' (DbType = Date), @__finSemana_2='?' (DbType = Date)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[REGISTRO_HH_PROYECTO]), 0.0)
FROM [PLANILLA_USUSARIO_PROYECTO] AS [p]
INNER JOIN [USUARIO_PROYECTO] AS [u] ON [p].[ID_USU_PROY] = [u].[ID]
WHERE (([u].[ID_USUARIO] = @__8__locals1_idusuario_0) AND ([p].[FECHA_REGISTRO] >= @__inicioSemana_1)) AND ([p].[FECHA_REGISTRO] <= @__finSemana_2)
2025-07-28 11:03:16.767 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__8__locals1_idusuproy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[CostoUnitarioAsignado], [u].[COSTOCONSULTORA], [u].[COSTOCONSULTORB], [u].[COSTOCONSULTORC], [u].[HH_CONSULTORA], [u].[HH_CONSULTORB], [u].[HH_CONSULTORC], [u].[HH_SOCIOS], [u].[HH_STAFF], [u].[ID_PROYECTO], [u].[ID_USUARIO], [u].[IDSEGMENTO], [u0].[ID], [u0].[CONTRASENA], [u0].[EMAIL], [u0].[ID_RECURSO], [u0].[ID_ROL], [u0].[NOMBRE], [u0].[NOMBRE_USUARIO], [u0].[TELEFONO], [r].[ID], [r].[COSTO_UNITARIO], [r].[DESDE], [r].[ESTADO], [r].[HASTA], [r].[HH_ANUALES], [r].[HH_MENSUALES], [r].[NOMBRE_RECURSO], [r].[NUMERO_HORAS], [r].[PROCENTAJE_PROYECTO], [r].[TIPO_CONSULTOR], [r].[TOTAL_SOCIOS], [r].[TOTAL_STAFF]
FROM [USUARIO_PROYECTO] AS [u]
INNER JOIN [USUARIO] AS [u0] ON [u].[ID_USUARIO] = [u0].[ID]
INNER JOIN [RECURSO] AS [r] ON [u0].[ID_RECURSO] = [r].[ID]
WHERE [u].[ID] = @__8__locals1_idusuproy_0
2025-07-28 11:03:16.817 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__8__locals1_idusuproy_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ID]
FROM [USUARIO_PROYECTO] AS [u]
INNER JOIN [PROYECTO] AS [p] ON [u].[ID_PROYECTO] = [p].[ID]
WHERE [u].[ID] = @__8__locals1_idusuproy_0
2025-07-28 11:03:16.884 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p6='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PLANILLA_USUSARIO_PROYECTO] ([FECHA_REGISTRO], [ID_PLANILLA], [ID_USU_PROY], [IDACTIVIDAD], [OBSERVACIONES], [REGISTRO_HH_PROYECTO], [tipo])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [ID]
FROM [PLANILLA_USUSARIO_PROYECTO]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();
2025-07-28 11:03:16.915 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mes_0='?' (DbType = Int32), @__anio_1='?' (DbType = Int32), @__idproyecto_2='?' (DbType = Int32), @__tiporecurso_3='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[ID]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE ((([g].[MES] = @__mes_0) AND ([g].[ANIO] = @__anio_1)) AND ([g].[IDPROYECTO] = @__idproyecto_2)) AND ([g].[TIPORECURSO] = @__tiporecurso_3)
2025-07-28 11:03:16.920 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSOCIO]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:16.966 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = Int32), @p4='?' (DbType = Date), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p10='?' (Size = 200) (DbType = AnsiString), @p11='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p12='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [GASTOSHHHEJECUCION] ([ANIO], [ANIOEMISION], [costounitariomes], [ESTADO], [FECHAPAGO], [HHTOTALES], [IDPROYECTO], [MES], [MESEMISION], [MONTO], [OBSERVACION], [REAJUSTE], [SUBTOTAL], [TIPORECURSO])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT [ID]
FROM [GASTOSHHHEJECUCION]
WHERE @@ROWCOUNT = 1 AND [ID] = scope_identity();
2025-07-28 11:03:16.970 -04:00 [INF] Executing JsonResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-28 11:03:16.972 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.PlanillaController.RegistrarHoras (Proyectogestionhoras) in 304.0886ms
2025-07-28 11:03:16.972 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.PlanillaController.RegistrarHoras (Proyectogestionhoras)'
2025-07-28 11:03:16.972 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7297/Planilla/RegistrarHoras - 200 null application/json; charset=utf-8 307.7606ms
2025-07-28 11:03:16.976 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/RecuperarActividades?recurso=Socio - null null
2025-07-28 11:03:16.977 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras)'
2025-07-28 11:03:16.977 -04:00 [INF] Route matched with {action = "RecuperarActividades", controller = "Usuario"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RecuperarActividades(System.String) on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:03:16.977 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:16.979 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__recurso_0='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ID] AS [Id], [a].[NOMBRE] AS [Nombre], [a].[controlhh] AS [Controlhh]
FROM [ACTIVIDADES] AS [a]
WHERE [a].[TIPO_ACATIVIDAD] = @__recurso_0
ORDER BY CASE
    WHEN [a].[ID] = 17 THEN 0
    WHEN [a].[ID] = 14 THEN 1
    ELSE 2
END, [a].[NOMBRE]
2025-07-28 11:03:16.981 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType39`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:16.981 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras) in 3.9161ms
2025-07-28 11:03:16.981 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.RecuperarActividades (Proyectogestionhoras)'
2025-07-28 11:03:16.981 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/RecuperarActividades?recurso=Socio - 200 null application/json; charset=utf-8 4.7429ms
2025-07-28 11:03:19.346 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:03:19.347 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:03:19.348 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:03:19.348 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:19.356 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Socio')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:03:19.357 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Socio')
2025-07-28 11:03:19.358 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_SOCIOS]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:03:19.359 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Staff')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:03:19.360 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Staff')
2025-07-28 11:03:19.360 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_STAFF]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:03:19.361 -04:00 [INF] Executing ViewResult, running view Index.
2025-07-28 11:03:19.363 -04:00 [INF] Executed ViewResult - view Index executed in 2.863ms.
2025-07-28 11:03:19.363 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 15.8345ms
2025-07-28 11:03:19.363 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:03:19.364 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 200 null text/html; charset=utf-8 18.4842ms
2025-07-28 11:03:19.386 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:19.386 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:19.387 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 0.9177ms
2025-07-28 11:03:19.397 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.5835ms
2025-07-28 11:03:20.646 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - null null
2025-07-28 11:03:20.648 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:03:20.648 -04:00 [INF] Route matched with {action = "PagosDistribucionHH", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PagosDistribucionHH(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:20.650 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:20.655 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__estado_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID] AS [idproyecto], [p].[NOMBRE] AS [nombreproyecto], COALESCE([g].[ANIO], 0) AS [anio], COALESCE([g].[MES], 0) AS [mes], [g].[TIPORECURSO] AS [tiporecurso], COALESCE([h].[IDCUENTASOCIO], 0) AS [idcuentasocio], COALESCE([h].[IDCUENTASTAFF], 0) AS [idcuentastaff], [h].[CUENTASOCIO] AS [cuentasocio], [h].[CUENTASTAFF] AS [cuentastaff], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0)), 0.0) AS [totalhh], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0) * [g].[costounitariomes]), 0.0) AS [costorecursosocio], [h0].[COSTOSOCIO] AS [costohhsocio], [h0].[COSTOSTAFF] AS [costohhstaff], [g].[ID] AS [idgastohh], COALESCE([g].[REAJUSTE], 0.0) AS [reajuste], COALESCE([g].[MONTO], 0.0) AS [monto], [g].[OBSERVACION] AS [observacion], COALESCE([g].[FECHAPAGO], NULL) AS [fechapago], COALESCE([g].[ESTADO], 0) AS [estado], COALESCE([g].[costounitariomes], 0.0) AS [costounitariomes]
FROM [GASTOSHHHEJECUCION] AS [g]
INNER JOIN [PROYECTO] AS [p] ON [g].[IDPROYECTO] = [p].[ID]
INNER JOIN [HISTORIALCUENTASPROYECTO] AS [h] ON [p].[ID] = [h].[IDPROYECTO]
INNER JOIN [HISTORIAL_COSTOS_PROYECTOS] AS [h0] ON [p].[ID] = [h0].[IDPROYECTO]
WHERE ([p].[STATUS_PROYECTO] = 2) AND ([g].[ESTADO] = @__estado_0)
GROUP BY [p].[ID], [p].[NOMBRE], [g].[ID], [g].[ANIO], [g].[MES], [g].[TIPORECURSO], [h].[IDCUENTASOCIO], [h].[IDCUENTASTAFF], [h].[CUENTASOCIO], [h].[CUENTASTAFF], [h0].[COSTOSOCIO], [h0].[COSTOSTAFF], [g].[REAJUSTE], [g].[MONTO], [g].[OBSERVACION], [g].[FECHAPAGO], [g].[ESTADO], [g].[costounitariomes]
ORDER BY COALESCE([g].[ANIO], 0), COALESCE([g].[MES], 0)
2025-07-28 11:03:20.655 -04:00 [INF] Executing ViewResult, running view PagosDistribucionHH.
2025-07-28 11:03:20.660 -04:00 [INF] Executed ViewResult - view PagosDistribucionHH executed in 4.5792ms.
2025-07-28 11:03:20.660 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras) in 11.6025ms
2025-07-28 11:03:20.660 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:03:20.660 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - 200 null text/html; charset=utf-8 14.1604ms
2025-07-28 11:03:20.678 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:20.679 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:20.680 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.073ms
2025-07-28 11:03:20.688 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.2277ms
2025-07-28 11:03:28.183 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:03:28.185 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:03:28.185 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:03:28.186 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:28.192 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Socio')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:03:28.193 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Socio')
2025-07-28 11:03:28.194 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_SOCIOS]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:03:28.195 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Staff')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:03:28.196 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Staff')
2025-07-28 11:03:28.196 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_STAFF]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:03:28.197 -04:00 [INF] Executing ViewResult, running view Index.
2025-07-28 11:03:28.200 -04:00 [INF] Executed ViewResult - view Index executed in 2.9292ms.
2025-07-28 11:03:28.200 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 15.1923ms
2025-07-28 11:03:28.200 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:03:28.200 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 200 null text/html; charset=utf-8 17.5982ms
2025-07-28 11:03:28.222 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:28.222 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:28.223 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.2911ms
2025-07-28 11:03:28.230 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7961ms
2025-07-28 11:03:29.319 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/SeleccionarProyecto?statusproyecto=2 - null null
2025-07-28 11:03:29.321 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.SeleccionarProyecto (Proyectogestionhoras)'
2025-07-28 11:03:29.325 -04:00 [INF] Route matched with {action = "SeleccionarProyecto", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SeleccionarProyecto(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:29.329 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:29.378 -04:00 [INF] Executing ViewResult, running view SeleccionarProyecto.
2025-07-28 11:03:29.391 -04:00 [INF] Executed ViewResult - view SeleccionarProyecto executed in 12.3288ms.
2025-07-28 11:03:29.391 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.SeleccionarProyecto (Proyectogestionhoras) in 65.8228ms
2025-07-28 11:03:29.391 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.SeleccionarProyecto (Proyectogestionhoras)'
2025-07-28 11:03:29.391 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/SeleccionarProyecto?statusproyecto=2 - 200 null text/html; charset=utf-8 72.6418ms
2025-07-28 11:03:29.408 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:29.408 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:29.408 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.1534ms
2025-07-28 11:03:29.416 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.0149ms
2025-07-28 11:03:30.545 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7297/EjecucionProyecto/RedirigirActividad - application/x-www-form-urlencoded 14
2025-07-28 11:03:30.547 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RedirigirActividad (Proyectogestionhoras)'
2025-07-28 11:03:30.548 -04:00 [INF] Route matched with {action = "RedirigirActividad", controller = "EjecucionProyecto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult RedirigirActividad() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:30.549 -04:00 [INF] Executing RedirectResult, redirecting to /EjecucionProyecto/SeleccionarActividad.
2025-07-28 11:03:30.549 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.RedirigirActividad (Proyectogestionhoras) in 0.7294ms
2025-07-28 11:03:30.549 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RedirigirActividad (Proyectogestionhoras)'
2025-07-28 11:03:30.549 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7297/EjecucionProyecto/RedirigirActividad - 302 0 null 4.6974ms
2025-07-28 11:03:30.552 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/SeleccionarActividad - null null
2025-07-28 11:03:30.554 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.SeleccionarActividad (Proyectogestionhoras)'
2025-07-28 11:03:30.554 -04:00 [INF] Route matched with {action = "SeleccionarActividad", controller = "EjecucionProyecto"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult SeleccionarActividad() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:30.555 -04:00 [INF] Executing ViewResult, running view SeleccionarActividad.
2025-07-28 11:03:30.558 -04:00 [INF] Executed ViewResult - view SeleccionarActividad executed in 3.5737ms.
2025-07-28 11:03:30.559 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.SeleccionarActividad (Proyectogestionhoras) in 4.3749ms
2025-07-28 11:03:30.559 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.SeleccionarActividad (Proyectogestionhoras)'
2025-07-28 11:03:30.560 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/SeleccionarActividad - 200 null text/html; charset=utf-8 7.9856ms
2025-07-28 11:03:30.578 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:30.578 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:30.579 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.1842ms
2025-07-28 11:03:30.587 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.0365ms
2025-07-28 11:03:31.468 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/EgresosProyectos?idproyecto=265 - null null
2025-07-28 11:03:31.469 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.EgresosProyectos (Proyectogestionhoras)'
2025-07-28 11:03:31.472 -04:00 [INF] Route matched with {action = "EgresosProyectos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EgresosProyectos(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.477 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.493 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID] AS [idproyecto], [p].[NOMBRE] AS [nombreproyecto], COALESCE([g].[ANIO], 0) AS [anio], COALESCE([g].[MES], 0) AS [mes], [g].[TIPORECURSO] AS [tiporecurso], COALESCE([h].[IDCUENTASOCIO], 0) AS [idcuentasocio], COALESCE([h].[IDCUENTASTAFF], 0) AS [idcuentastaff], [h].[CUENTASOCIO] AS [cuentasocio], [h].[CUENTASTAFF] AS [cuentastaff], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0)), 0.0) AS [totalhh], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0) * [g].[costounitariomes]), 0.0) AS [costorecursosocio], [h0].[COSTOSOCIO] AS [costohhsocio], [h0].[COSTOSTAFF] AS [costohhstaff], [g].[ID] AS [idgastohh], COALESCE([g].[REAJUSTE], 0.0) AS [reajuste], COALESCE([g].[MONTO], 0.0) AS [monto], [g].[OBSERVACION] AS [observacion], COALESCE([g].[FECHAPAGO], NULL) AS [fechapago], COALESCE([g].[ESTADO], 0) AS [estado], COALESCE([g].[costounitariomes], 0.0) AS [costounitariomes]
FROM [GASTOSHHHEJECUCION] AS [g]
INNER JOIN [PROYECTO] AS [p] ON [g].[IDPROYECTO] = [p].[ID]
INNER JOIN [HISTORIALCUENTASPROYECTO] AS [h] ON [p].[ID] = [h].[IDPROYECTO]
INNER JOIN [HISTORIAL_COSTOS_PROYECTOS] AS [h0] ON [p].[ID] = [h0].[IDPROYECTO]
WHERE ([p].[STATUS_PROYECTO] = 2) AND ([p].[ID] = @__idproyecto_0)
GROUP BY [p].[ID], [p].[NOMBRE], [g].[ID], [g].[ANIO], [g].[MES], [g].[TIPORECURSO], [h].[IDCUENTASOCIO], [h].[IDCUENTASTAFF], [h].[CUENTASOCIO], [h].[CUENTASTAFF], [h0].[COSTOSOCIO], [h0].[COSTOSTAFF], [g].[REAJUSTE], [g].[MONTO], [g].[OBSERVACION], [g].[FECHAPAGO], [g].[ESTADO], [g].[costounitariomes]
ORDER BY COALESCE([g].[ANIO], 0), COALESCE([g].[MES], 0)
2025-07-28 11:03:31.496 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[IDCUENTASOCIO]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.502 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[CUENTASOCIO]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.504 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSOCIO]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.508 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[IDCUENTASTAFF]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.511 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[CUENTASTAFF]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.513 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSTAFF]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.519 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ANIO], [g].[ANIOEMISION], [g].[costounitariomes], [g].[ESTADO], [g].[FECHAPAGO], [g].[HHTOTALES], [g].[IDPROYECTO], [g].[MES], [g].[MESEMISION], [g].[MONTO], [g].[OBSERVACION], [g].[REAJUSTE], [g].[SUBTOTAL], [g].[TIPORECURSO]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE [g].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:03:31.522 -04:00 [INF] Executing ViewResult, running view EgresosProyectos.
2025-07-28 11:03:31.618 -04:00 [INF] Executed ViewResult - view EgresosProyectos executed in 96.6057ms.
2025-07-28 11:03:31.618 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.EgresosProyectos (Proyectogestionhoras) in 146.3261ms
2025-07-28 11:03:31.618 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.EgresosProyectos (Proyectogestionhoras)'
2025-07-28 11:03:31.618 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/EgresosProyectos?idproyecto=265 - 200 null text/html; charset=utf-8 151.3675ms
2025-07-28 11:03:31.738 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:03:31.738 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:03:31.739 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 0.9502ms
2025-07-28 11:03:31.745 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - null null
2025-07-28 11:03:31.745 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - null null
2025-07-28 11:03:31.745 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - null null
2025-07-28 11:03:31.746 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.746 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.746 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - null null
2025-07-28 11:03:31.746 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.746 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/ObtenerDatosResumen?idProyecto=265 - null null
2025-07-28 11:03:31.747 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.747 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.ObtenerDatosResumen (Proyectogestionhoras)'
2025-07-28 11:03:31.756 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/RecuperarForecastProveedores?idproyecto=265 - null null
2025-07-28 11:03:31.758 -04:00 [INF] Route matched with {action = "GetProveedoresGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.758 -04:00 [INF] Route matched with {action = "GetServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Servicio]] GetServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.758 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RecuperarForecastProveedores (Proyectogestionhoras)'
2025-07-28 11:03:31.762 -04:00 [INF] Route matched with {action = "ObtenerDatosResumen", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerDatosResumen(Int32) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.763 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.3806ms
2025-07-28 11:03:31.764 -04:00 [INF] Route matched with {action = "GetProveedoresServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.764 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.764 -04:00 [INF] Route matched with {action = "GetGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Gasto]] GetGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.764 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.765 -04:00 [INF] Route matched with {action = "RecuperarForecastProveedores", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RecuperarForecastProveedores(System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.765 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.765 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.767 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.770 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ID], [s].[IDCUENTA], [s].[NOMBRE]
FROM [SERVICIOS] AS [s]
2025-07-28 11:03:31.801 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[IDCUENTA], [g].[NOMBRE]
FROM [GASTOS] AS [g]
2025-07-28 11:03:31.807 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.809 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Gasto%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:03:31.811 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSOCIO]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:03:31.815 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Servicio%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:03:31.818 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HH_SOCIOS]
FROM [HH_USUARIO_HISTORIAL] AS [h]
WHERE [h].[ID_PROYECTO] = @__idProyecto_0
2025-07-28 11:03:31.819 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Gasto, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.819 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Servicio, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.822 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Socio')) AND ([g].[ESTADO] = 1)
2025-07-28 11:03:31.825 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Socio')) AND ([g].[ESTADO] = 2)
2025-07-28 11:03:31.826 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.DTO.ProveedorForecastDTO, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.828 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSTAFF]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:03:31.829 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HH_STAFF]
FROM [HH_USUARIO_HISTORIAL] AS [h]
WHERE [h].[ID_PROYECTO] = @__idProyecto_0
2025-07-28 11:03:31.830 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.830 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.833 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Staff')) AND ([g].[ESTADO] = 1)
2025-07-28 11:03:31.835 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.RecuperarForecastProveedores (Proyectogestionhoras) in 69.933ms
2025-07-28 11:03:31.835 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RecuperarForecastProveedores (Proyectogestionhoras)'
2025-07-28 11:03:31.835 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/RecuperarForecastProveedores?idproyecto=265 - 200 null application/json; charset=utf-8 78.6971ms
2025-07-28 11:03:31.836 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Staff')) AND ([g].[ESTADO] = 2)
2025-07-28 11:03:31.860 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ID], [s].[ESTADO], [s].[FECHA], [s].[IDPROVEEDOR], [s].[IDPROYECTO], [s].[IDSERVICIO], [s].[MONTO], [s].[OBSERVACION], [s].[TIPOSERVICIO], [s].[VENTA]
FROM [SERVICIOSEJECUCION] AS [s]
WHERE [s].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:03:31.861 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras) in 103.1078ms
2025-07-28 11:03:31.861 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras) in 96.6389ms
2025-07-28 11:03:31.861 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.861 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.861 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - 200 null application/json; charset=utf-8 115.7001ms
2025-07-28 11:03:31.861 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - 200 null application/json; charset=utf-8 115.8495ms
2025-07-28 11:03:31.863 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - null null
2025-07-28 11:03:31.863 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - null null
2025-07-28 11:03:31.863 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - null null
2025-07-28 11:03:31.864 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - null null
2025-07-28 11:03:31.864 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.864 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.864 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.864 -04:00 [INF] Route matched with {action = "GetGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Gasto]] GetGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.864 -04:00 [INF] Route matched with {action = "GetServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Servicio]] GetServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.864 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.864 -04:00 [INF] Route matched with {action = "GetProveedoresServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.864 -04:00 [INF] Route matched with {action = "GetProveedoresGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:03:31.867 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.867 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.868 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.869 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:03:31.869 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras) in 111.0303ms
2025-07-28 11:03:31.869 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.869 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - 200 null application/json; charset=utf-8 122.7502ms
2025-07-28 11:03:31.871 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ID], [s].[IDCUENTA], [s].[NOMBRE]
FROM [SERVICIOS] AS [s]
2025-07-28 11:03:31.871 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Servicio%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:03:31.871 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[IDCUENTA], [g].[NOMBRE]
FROM [GASTOS] AS [g]
2025-07-28 11:03:31.872 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras) in 107.4932ms
2025-07-28 11:03:31.872 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.872 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - 200 null application/json; charset=utf-8 127.029ms
2025-07-28 11:03:31.873 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Gasto%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:03:31.882 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Servicio, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.882 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Gasto, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.883 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.884 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras) in 19.7002ms
2025-07-28 11:03:31.884 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras) in 19.6813ms
2025-07-28 11:03:31.884 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.884 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.886 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:03:31.886 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras) in 22.3073ms
2025-07-28 11:03:31.887 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:03:31.889 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - 200 null application/json; charset=utf-8 25.7447ms
2025-07-28 11:03:31.889 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - 200 null application/json; charset=utf-8 25.9583ms
2025-07-28 11:03:31.889 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - 200 null application/json; charset=utf-8 25.6319ms
2025-07-28 11:03:31.890 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras) in 25.6478ms
2025-07-28 11:03:31.890 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:03:31.890 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - 200 null application/json; charset=utf-8 27.0709ms
2025-07-28 11:03:31.900 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ESTADO], [g].[FECHA], [g].[IDGASTO], [g].[IDPROVEEDOR], [g].[IDPROYECTO], [g].[MONTO], [g].[OBSERVACION], [g].[SEGMENTO], [g].[VENTA]
FROM [GASTOSEJECUCION] AS [g]
WHERE [g].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:03:32.005 -04:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-07-28 11:03:32.007 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.ObtenerDatosResumen (Proyectogestionhoras) in 244.4425ms
2025-07-28 11:03:32.007 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.ObtenerDatosResumen (Proyectogestionhoras)'
2025-07-28 11:03:32.007 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/ObtenerDatosResumen?idProyecto=265 - 200 4152 application/json 260.9181ms
2025-07-28 11:04:09.763 -04:00 [INF] Request starting HTTP/2 POST https://localhost:7297/EjecucionProyecto/RegistrarHH - application/x-www-form-urlencoded 3102
2025-07-28 11:04:09.768 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RegistrarHH (Proyectogestionhoras)'
2025-07-28 11:04:09.771 -04:00 [INF] Route matched with {action = "RegistrarHH", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegistrarHH() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:09.779 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:09.788 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ANIO], [g].[ANIOEMISION], [g].[costounitariomes], [g].[ESTADO], [g].[FECHAPAGO], [g].[HHTOTALES], [g].[IDPROYECTO], [g].[MES], [g].[MESEMISION], [g].[MONTO], [g].[OBSERVACION], [g].[REAJUSTE], [g].[SUBTOTAL], [g].[TIPORECURSO]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE [g].[ID] IN (173, 188, 193, 194)
2025-07-28 11:04:09.791 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ANIO], [g].[ANIOEMISION], [g].[costounitariomes], [g].[ESTADO], [g].[FECHAPAGO], [g].[HHTOTALES], [g].[IDPROYECTO], [g].[MES], [g].[MESEMISION], [g].[MONTO], [g].[OBSERVACION], [g].[REAJUSTE], [g].[SUBTOTAL], [g].[TIPORECURSO]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE [g].[ID] IN (171, 172, 187, 192, 205, 1208)
2025-07-28 11:04:09.797 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (DbType = Int32), @p2='?' (DbType = Date), @p3='?' (Precision = 15) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 200) (DbType = AnsiString), @p5='?' (Precision = 15) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [GASTOSHHHEJECUCION] SET [costounitariomes] = @p0, [ESTADO] = @p1, [FECHAPAGO] = @p2, [MONTO] = @p3, [OBSERVACION] = @p4, [SUBTOTAL] = @p5
WHERE [ID] = @p6;
SELECT @@ROWCOUNT;
2025-07-28 11:04:09.800 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ANIO], [g].[ANIOEMISION], [g].[costounitariomes], [g].[ESTADO], [g].[FECHAPAGO], [g].[HHTOTALES], [g].[IDPROYECTO], [g].[MES], [g].[MESEMISION], [g].[MONTO], [g].[OBSERVACION], [g].[REAJUSTE], [g].[SUBTOTAL], [g].[TIPORECURSO]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE [g].[ID] IN (290, 292, 293)
2025-07-28 11:04:09.801 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ANIO], [g].[ANIOEMISION], [g].[costounitariomes], [g].[ESTADO], [g].[FECHAPAGO], [g].[HHTOTALES], [g].[IDPROYECTO], [g].[MES], [g].[MESEMISION], [g].[MONTO], [g].[OBSERVACION], [g].[REAJUSTE], [g].[SUBTOTAL], [g].[TIPORECURSO]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE [g].[ID] = 291
2025-07-28 11:04:09.809 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [f].[id], [f].[FECHAMODIFICACION], [f].[IDPROYECTO]
FROM [FECHAMODIFICACIONPROYECTO] AS [f]
WHERE [f].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.817 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [FECHAMODIFICACIONPROYECTO] SET [FECHAMODIFICACION] = @p0
WHERE [id] = @p1;
SELECT @@ROWCOUNT;
2025-07-28 11:04:09.818 -04:00 [INF] Executing RedirectResult, redirecting to /EjecucionProyecto/EgresosProyectos?idproyecto=265#section-hh.
2025-07-28 11:04:09.819 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.RegistrarHH (Proyectogestionhoras) in 48.3978ms
2025-07-28 11:04:09.819 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RegistrarHH (Proyectogestionhoras)'
2025-07-28 11:04:09.819 -04:00 [INF] Request finished HTTP/2 POST https://localhost:7297/EjecucionProyecto/RegistrarHH - 302 0 null 56.458ms
2025-07-28 11:04:09.823 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/EgresosProyectos?idproyecto=265 - null null
2025-07-28 11:04:09.824 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.EgresosProyectos (Proyectogestionhoras)'
2025-07-28 11:04:09.824 -04:00 [INF] Route matched with {action = "EgresosProyectos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EgresosProyectos(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.String, System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:09.826 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:09.874 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID] AS [idproyecto], [p].[NOMBRE] AS [nombreproyecto], COALESCE([g].[ANIO], 0) AS [anio], COALESCE([g].[MES], 0) AS [mes], [g].[TIPORECURSO] AS [tiporecurso], COALESCE([h].[IDCUENTASOCIO], 0) AS [idcuentasocio], COALESCE([h].[IDCUENTASTAFF], 0) AS [idcuentastaff], [h].[CUENTASOCIO] AS [cuentasocio], [h].[CUENTASTAFF] AS [cuentastaff], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0)), 0.0) AS [totalhh], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0) * [g].[costounitariomes]), 0.0) AS [costorecursosocio], [h0].[COSTOSOCIO] AS [costohhsocio], [h0].[COSTOSTAFF] AS [costohhstaff], [g].[ID] AS [idgastohh], COALESCE([g].[REAJUSTE], 0.0) AS [reajuste], COALESCE([g].[MONTO], 0.0) AS [monto], [g].[OBSERVACION] AS [observacion], COALESCE([g].[FECHAPAGO], NULL) AS [fechapago], COALESCE([g].[ESTADO], 0) AS [estado], COALESCE([g].[costounitariomes], 0.0) AS [costounitariomes]
FROM [GASTOSHHHEJECUCION] AS [g]
INNER JOIN [PROYECTO] AS [p] ON [g].[IDPROYECTO] = [p].[ID]
INNER JOIN [HISTORIALCUENTASPROYECTO] AS [h] ON [p].[ID] = [h].[IDPROYECTO]
INNER JOIN [HISTORIAL_COSTOS_PROYECTOS] AS [h0] ON [p].[ID] = [h0].[IDPROYECTO]
WHERE ([p].[STATUS_PROYECTO] = 2) AND ([p].[ID] = @__idproyecto_0)
GROUP BY [p].[ID], [p].[NOMBRE], [g].[ID], [g].[ANIO], [g].[MES], [g].[TIPORECURSO], [h].[IDCUENTASOCIO], [h].[IDCUENTASTAFF], [h].[CUENTASOCIO], [h].[CUENTASTAFF], [h0].[COSTOSOCIO], [h0].[COSTOSTAFF], [g].[REAJUSTE], [g].[MONTO], [g].[OBSERVACION], [g].[FECHAPAGO], [g].[ESTADO], [g].[costounitariomes]
ORDER BY COALESCE([g].[ANIO], 0), COALESCE([g].[MES], 0)
2025-07-28 11:04:09.875 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[IDCUENTASOCIO]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.876 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[CUENTASOCIO]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.877 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSOCIO]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.877 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[IDCUENTASTAFF]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.878 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[CUENTASTAFF]
FROM [HISTORIALCUENTASPROYECTO] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.879 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSTAFF]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.880 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idproyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ANIO], [g].[ANIOEMISION], [g].[costounitariomes], [g].[ESTADO], [g].[FECHAPAGO], [g].[HHTOTALES], [g].[IDPROYECTO], [g].[MES], [g].[MESEMISION], [g].[MONTO], [g].[OBSERVACION], [g].[REAJUSTE], [g].[SUBTOTAL], [g].[TIPORECURSO]
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE [g].[IDPROYECTO] = @__idproyecto_0
2025-07-28 11:04:09.880 -04:00 [INF] Executing ViewResult, running view EgresosProyectos.
2025-07-28 11:04:09.897 -04:00 [INF] Executed ViewResult - view EgresosProyectos executed in 16.6514ms.
2025-07-28 11:04:09.897 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.EgresosProyectos (Proyectogestionhoras) in 72.2596ms
2025-07-28 11:04:09.897 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.EgresosProyectos (Proyectogestionhoras)'
2025-07-28 11:04:09.897 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/EgresosProyectos?idproyecto=265 - 200 null text/html; charset=utf-8 74.5749ms
2025-07-28 11:04:09.998 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:04:09.998 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:04:09.999 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.0715ms
2025-07-28 11:04:10.006 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - null null
2025-07-28 11:04:10.006 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - null null
2025-07-28 11:04:10.006 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - null null
2025-07-28 11:04:10.007 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - null null
2025-07-28 11:04:10.007 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.007 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.007 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/ObtenerDatosResumen?idProyecto=265 - null null
2025-07-28 11:04:10.007 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.007 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.008 -04:00 [INF] Route matched with {action = "GetServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Servicio]] GetServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.008 -04:00 [INF] Route matched with {action = "GetProveedoresGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.008 -04:00 [INF] Route matched with {action = "GetGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Gasto]] GetGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.008 -04:00 [INF] Route matched with {action = "GetProveedoresServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.008 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.ObtenerDatosResumen (Proyectogestionhoras)'
2025-07-28 11:04:10.008 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.374ms
2025-07-28 11:04:10.008 -04:00 [INF] Route matched with {action = "ObtenerDatosResumen", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ObtenerDatosResumen(Int32) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.008 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.008 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.008 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.010 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.010 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.014 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSOCIO]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:04:10.016 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[IDCUENTA], [g].[NOMBRE]
FROM [GASTOS] AS [g]
2025-07-28 11:04:10.017 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ID], [s].[IDCUENTA], [s].[NOMBRE]
FROM [SERVICIOS] AS [s]
2025-07-28 11:04:10.023 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/RecuperarForecastProveedores?idproyecto=265 - null null
2025-07-28 11:04:10.023 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RecuperarForecastProveedores (Proyectogestionhoras)'
2025-07-28 11:04:10.023 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Gasto%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:04:10.025 -04:00 [INF] Route matched with {action = "RecuperarForecastProveedores", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RecuperarForecastProveedores(System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.029 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Servicio%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:04:10.029 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Servicio, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.029 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Gasto, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.031 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.031 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras) in 23.3734ms
2025-07-28 11:04:10.031 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras) in 23.3416ms
2025-07-28 11:04:10.031 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.031 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.032 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - 200 null application/json; charset=utf-8 26.0262ms
2025-07-28 11:04:10.036 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - null null
2025-07-28 11:04:10.036 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.037 -04:00 [INF] Route matched with {action = "GetGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Gasto]] GetGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.038 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HH_SOCIOS]
FROM [HH_USUARIO_HISTORIAL] AS [h]
WHERE [h].[ID_PROYECTO] = @__idProyecto_0
2025-07-28 11:04:10.039 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - 200 null application/json; charset=utf-8 33.5935ms
2025-07-28 11:04:10.040 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.040 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - null null
2025-07-28 11:04:10.041 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.041 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.041 -04:00 [INF] Route matched with {action = "GetServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Servicio]] GetServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.041 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.045 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.045 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[IDCUENTA], [g].[NOMBRE]
FROM [GASTOS] AS [g]
2025-07-28 11:04:10.045 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Socio')) AND ([g].[ESTADO] = 1)
2025-07-28 11:04:10.049 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ID], [s].[IDCUENTA], [s].[NOMBRE]
FROM [SERVICIOS] AS [s]
2025-07-28 11:04:10.051 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - null null
2025-07-28 11:04:10.051 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras) in 42.9038ms
2025-07-28 11:04:10.051 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - null null
2025-07-28 11:04:10.051 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.052 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.052 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.052 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - 200 null application/json; charset=utf-8 45.2706ms
2025-07-28 11:04:10.052 -04:00 [INF] Route matched with {action = "GetProveedoresServicios", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresServicios() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.052 -04:00 [INF] Route matched with {action = "GetProveedoresGastos", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Proyectogestionhoras.Models.Proveedore]] GetProveedoresGastos() on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:10.052 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Gasto, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.052 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras) in 44.2382ms
2025-07-28 11:04:10.052 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.052 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - 200 null application/json; charset=utf-8 46.7986ms
2025-07-28 11:04:10.055 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras) in 16.6823ms
2025-07-28 11:04:10.055 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.055 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Socio')) AND ([g].[ESTADO] = 2)
2025-07-28 11:04:10.056 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.056 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:10.059 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Gasto%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:04:10.060 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Servicio, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.061 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID], [p].[FUNCION], [p].[NOMBRE], [p].[RUT], [p].[TIPO]
FROM [PROVEEDORES] AS [p]
WHERE [p].[TIPO] LIKE '%Servicio%'
ORDER BY [p].[NOMBRE]
2025-07-28 11:04:10.061 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras) in 19.2854ms
2025-07-28 11:04:10.061 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.066 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[COSTOSTAFF]
FROM [HISTORIAL_COSTOS_PROYECTOS] AS [h]
WHERE [h].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:04:10.066 -04:00 [INF] Executing JsonResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.DTO.ProveedorForecastDTO, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.066 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.RecuperarForecastProveedores (Proyectogestionhoras) in 41.3651ms
2025-07-28 11:04:10.066 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.RecuperarForecastProveedores (Proyectogestionhoras)'
2025-07-28 11:04:10.068 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/RecuperarForecastProveedores?idproyecto=265 - 200 null application/json; charset=utf-8 48.6391ms
2025-07-28 11:04:10.070 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetGastos - 200 null application/json; charset=utf-8 34.7486ms
2025-07-28 11:04:10.071 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetServicios - 200 null application/json; charset=utf-8 31.1342ms
2025-07-28 11:04:10.074 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HH_STAFF]
FROM [HH_USUARIO_HISTORIAL] AS [h]
WHERE [h].[ID_PROYECTO] = @__idProyecto_0
2025-07-28 11:04:10.077 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.077 -04:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Proyectogestionhoras.Models.Proveedore, Proyectogestionhoras, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-28 11:04:10.077 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Staff')) AND ([g].[ESTADO] = 1)
2025-07-28 11:04:10.079 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras) in 26.5119ms
2025-07-28 11:04:10.079 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresGastos (Proyectogestionhoras)'
2025-07-28 11:04:10.079 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras) in 26.5961ms
2025-07-28 11:04:10.079 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.GetProveedoresServicios (Proyectogestionhoras)'
2025-07-28 11:04:10.079 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresGastos - 200 null application/json; charset=utf-8 28.9735ms
2025-07-28 11:04:10.079 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/GetProveedoresServicios - 200 null application/json; charset=utf-8 28.4556ms
2025-07-28 11:04:10.080 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([g].[MONTO]), 0.0)
FROM [GASTOSHHHEJECUCION] AS [g]
WHERE (([g].[IDPROYECTO] = @__idProyecto_0) AND ([g].[TIPORECURSO] = 'Staff')) AND ([g].[ESTADO] = 2)
2025-07-28 11:04:10.093 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[ID], [s].[ESTADO], [s].[FECHA], [s].[IDPROVEEDOR], [s].[IDPROYECTO], [s].[IDSERVICIO], [s].[MONTO], [s].[OBSERVACION], [s].[TIPOSERVICIO], [s].[VENTA]
FROM [SERVICIOSEJECUCION] AS [s]
WHERE [s].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:04:10.095 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__idProyecto_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[ID], [g].[ESTADO], [g].[FECHA], [g].[IDGASTO], [g].[IDPROVEEDOR], [g].[IDPROYECTO], [g].[MONTO], [g].[OBSERVACION], [g].[SEGMENTO], [g].[VENTA]
FROM [GASTOSEJECUCION] AS [g]
WHERE [g].[IDPROYECTO] = @__idProyecto_0
2025-07-28 11:04:10.096 -04:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-07-28 11:04:10.097 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.ObtenerDatosResumen (Proyectogestionhoras) in 89.2995ms
2025-07-28 11:04:10.097 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.ObtenerDatosResumen (Proyectogestionhoras)'
2025-07-28 11:04:10.097 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/ObtenerDatosResumen?idProyecto=265 - 200 4152 application/json 90.2359ms
2025-07-28 11:04:16.183 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:04:16.188 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:04:16.188 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:04:16.188 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:16.201 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Socio')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:04:16.203 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Socio')
2025-07-28 11:04:16.205 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_SOCIOS]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:04:16.206 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM(COALESCE([r].[HH_ANUALES], 0.0)), 0.0)
FROM [RECURSO] AS [r]
WHERE ((([r].[ESTADO] = 'Activo') AND ([r].[NOMBRE_RECURSO] = 'Staff')) AND ([r].[DESDE] <= GETDATE())) AND ([r].[HASTA] >= GETDATE())
2025-07-28 11:04:16.207 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[ID], [t].[ANIO], [t].[CANTIDAD], [t].[TIPO_RECURSO], [t].[TOTAL_HH_ANUALES], [t].[TOTALINMODIFICABLE]
FROM [TOTAL_RECURSOS] AS [t]
WHERE ([t].[ANIO] = DATEPART(year, GETDATE())) AND ([t].[TIPO_RECURSO] = 'Staff')
2025-07-28 11:04:16.209 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([h].[HH_STAFF]), 0)
FROM [PROYECTO] AS [p]
INNER JOIN [HH_USUARIO_HISTORIAL] AS [h] ON [p].[ID] = [h].[ID_PROYECTO]
WHERE [p].[FECHAEJECUCION] IS NOT NULL AND (DATEPART(year, [p].[FECHAEJECUCION]) = DATEPART(year, GETDATE()))
2025-07-28 11:04:16.209 -04:00 [INF] Executing ViewResult, running view Index.
2025-07-28 11:04:16.213 -04:00 [INF] Executed ViewResult - view Index executed in 4.1125ms.
2025-07-28 11:04:16.213 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 25.6462ms
2025-07-28 11:04:16.213 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:04:16.213 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 200 null text/html; charset=utf-8 31.2427ms
2025-07-28 11:04:16.232 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:04:16.232 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:04:16.233 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.4082ms
2025-07-28 11:04:16.242 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.3096ms
2025-07-28 11:04:17.880 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - null null
2025-07-28 11:04:17.882 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:04:17.882 -04:00 [INF] Route matched with {action = "PagosDistribucionHH", controller = "EjecucionProyecto"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PagosDistribucionHH(System.Nullable`1[System.Int32], System.Nullable`1[System.Int32]) on controller Proyectogestionhoras.Controllers.EjecucionProyectoController (Proyectogestionhoras).
2025-07-28 11:04:17.882 -04:00 [INF] Entity Framework Core 6.0.0 initialized 'PROYECTO_CONTROL_HORASContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.0' with options: None
2025-07-28 11:04:17.890 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[@__estado_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ID] AS [idproyecto], [p].[NOMBRE] AS [nombreproyecto], COALESCE([g].[ANIO], 0) AS [anio], COALESCE([g].[MES], 0) AS [mes], [g].[TIPORECURSO] AS [tiporecurso], COALESCE([h].[IDCUENTASOCIO], 0) AS [idcuentasocio], COALESCE([h].[IDCUENTASTAFF], 0) AS [idcuentastaff], [h].[CUENTASOCIO] AS [cuentasocio], [h].[CUENTASTAFF] AS [cuentastaff], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0)), 0.0) AS [totalhh], COALESCE(SUM(COALESCE([g].[HHTOTALES], 0.0) * [g].[costounitariomes]), 0.0) AS [costorecursosocio], [h0].[COSTOSOCIO] AS [costohhsocio], [h0].[COSTOSTAFF] AS [costohhstaff], [g].[ID] AS [idgastohh], COALESCE([g].[REAJUSTE], 0.0) AS [reajuste], COALESCE([g].[MONTO], 0.0) AS [monto], [g].[OBSERVACION] AS [observacion], COALESCE([g].[FECHAPAGO], NULL) AS [fechapago], COALESCE([g].[ESTADO], 0) AS [estado], COALESCE([g].[costounitariomes], 0.0) AS [costounitariomes]
FROM [GASTOSHHHEJECUCION] AS [g]
INNER JOIN [PROYECTO] AS [p] ON [g].[IDPROYECTO] = [p].[ID]
INNER JOIN [HISTORIALCUENTASPROYECTO] AS [h] ON [p].[ID] = [h].[IDPROYECTO]
INNER JOIN [HISTORIAL_COSTOS_PROYECTOS] AS [h0] ON [p].[ID] = [h0].[IDPROYECTO]
WHERE ([p].[STATUS_PROYECTO] = 2) AND ([g].[ESTADO] = @__estado_0)
GROUP BY [p].[ID], [p].[NOMBRE], [g].[ID], [g].[ANIO], [g].[MES], [g].[TIPORECURSO], [h].[IDCUENTASOCIO], [h].[IDCUENTASTAFF], [h].[CUENTASOCIO], [h].[CUENTASTAFF], [h0].[COSTOSOCIO], [h0].[COSTOSTAFF], [g].[REAJUSTE], [g].[MONTO], [g].[OBSERVACION], [g].[FECHAPAGO], [g].[ESTADO], [g].[costounitariomes]
ORDER BY COALESCE([g].[ANIO], 0), COALESCE([g].[MES], 0)
2025-07-28 11:04:17.890 -04:00 [INF] Executing ViewResult, running view PagosDistribucionHH.
2025-07-28 11:04:17.895 -04:00 [INF] Executed ViewResult - view PagosDistribucionHH executed in 4.2906ms.
2025-07-28 11:04:17.895 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras) in 13.0316ms
2025-07-28 11:04:17.895 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.EjecucionProyectoController.PagosDistribucionHH (Proyectogestionhoras)'
2025-07-28 11:04:17.895 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/EjecucionProyecto/PagosDistribucionHH?estado=0 - 200 null text/html; charset=utf-8 15.6292ms
2025-07-28 11:04:17.909 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:04:17.910 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:04:17.911 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.1251ms
2025-07-28 11:04:17.920 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 10.5281ms
2025-07-28 11:04:21.967 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/Logout - null null
2025-07-28 11:04:21.969 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Logout (Proyectogestionhoras)'
2025-07-28 11:04:21.969 -04:00 [INF] Route matched with {action = "Logout", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:04:21.969 -04:00 [INF] Executing RedirectResult, redirecting to /.
2025-07-28 11:04:21.969 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Logout (Proyectogestionhoras) in 0.2742ms
2025-07-28 11:04:21.969 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Logout (Proyectogestionhoras)'
2025-07-28 11:04:21.969 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/Logout - 302 0 null 2.9848ms
2025-07-28 11:04:21.973 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/ - null null
2025-07-28 11:04:21.974 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:04:21.974 -04:00 [INF] Route matched with {action = "Index", controller = "Home"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller Proyectogestionhoras.Controllers.HomeController (Proyectogestionhoras).
2025-07-28 11:04:21.975 -04:00 [INF] Executing RedirectResult, redirecting to /Usuario/Login.
2025-07-28 11:04:21.975 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras) in 0.2357ms
2025-07-28 11:04:21.975 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.HomeController.Index (Proyectogestionhoras)'
2025-07-28 11:04:21.975 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/ - 302 0 null 2.4435ms
2025-07-28 11:04:21.977 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/Usuario/Login - null null
2025-07-28 11:04:21.979 -04:00 [INF] Executing endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:04:21.979 -04:00 [INF] Route matched with {action = "Login", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller Proyectogestionhoras.Controllers.UsuarioController (Proyectogestionhoras).
2025-07-28 11:04:21.979 -04:00 [INF] Executing ViewResult, running view Login.
2025-07-28 11:04:21.979 -04:00 [INF] Executed ViewResult - view Login executed in 0.2656ms.
2025-07-28 11:04:21.979 -04:00 [INF] Executed action Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras) in 0.4619ms
2025-07-28 11:04:21.979 -04:00 [INF] Executed endpoint 'Proyectogestionhoras.Controllers.UsuarioController.Login (Proyectogestionhoras)'
2025-07-28 11:04:21.980 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/Usuario/Login - 200 null text/html; charset=utf-8 2.5373ms
2025-07-28 11:04:21.997 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - null null
2025-07-28 11:04:21.997 -04:00 [INF] Request starting HTTP/2 GET https://localhost:7297/_vs/browserLink - null null
2025-07-28 11:04:21.998 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_framework/aspnetcore-browser-refresh.js - 200 16525 application/javascript; charset=utf-8 1.3391ms
2025-07-28 11:04:22.006 -04:00 [INF] Request finished HTTP/2 GET https://localhost:7297/_vs/browserLink - 200 null text/javascript; charset=UTF-8 9.5341ms
